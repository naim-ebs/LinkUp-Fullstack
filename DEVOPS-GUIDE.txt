================================
   nLive - AWS Deployment
   Simple Guide for DevOps
================================

ğŸ“‹ READ THIS FIRST:
- QUICKSTART.md = 10 minute guide
- DEPLOYMENT.md = Full detailed guide
- DEPLOYMENT-CHECKLIST.md = Step-by-step checklist

================================
   QUICK DEPLOYMENT (10 min)
================================

1ï¸âƒ£ SSH into EC2
   ssh -i your-key.pem ubuntu@your-ip

2ï¸âƒ£ Install stuff (copy-paste all):
   sudo apt update && sudo apt upgrade -y
   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
   sudo apt install -y nodejs apache2
   sudo npm install -g pm2
   pm2 startup systemd
   sudo a2enmod proxy proxy_http proxy_wstunnel rewrite ssl headers
   sudo systemctl restart apache2

3ï¸âƒ£ Upload code to /var/www/nlive
   Then run:
   cd /var/www/nlive
   chmod +x deploy.sh
   ./deploy.sh

4ï¸âƒ£ SSL (optional but recommended):
   sudo apt install -y certbot python3-certbot-apache
   sudo certbot --apache -d your-domain.com

âœ… DONE! Visit: https://your-domain.com

================================
   WHAT THE SCRIPT DOES
================================

deploy.sh automatically:
âœ“ Installs backend dependencies
âœ“ Creates .env file
âœ“ Builds React frontend
âœ“ Configures Apache
âœ“ Starts backend with PM2
âœ“ Sets permissions

================================
   IMPORTANT NOTES
================================

âœ“ Backend runs on port 3000 (PM2 manages it)
âœ“ Apache serves frontend + proxies to backend
âœ“ Frontend auto-detects backend URL (no config needed)
âœ“ WebSocket connections work via Apache proxy
âœ“ Logs: pm2 logs nlive-backend

================================
   FILES YOU GOT
================================

ğŸ“„ QUICKSTART.md           <- Start here!
ğŸ“„ DEPLOYMENT.md           <- Full guide
ğŸ“„ DEPLOYMENT-CHECKLIST.md <- Step tracker
ğŸ“„ PRODUCTION-CHANGES.md   <- What changed
ğŸ“„ apache-config.conf      <- Apache setup
ğŸ“„ ecosystem.config.js     <- PM2 config
ğŸ“„ deploy.sh              <- Auto deploy
ğŸ“„ .env.production         <- Env template

================================
   AFTER DEPLOYMENT
================================

Check status:
  pm2 status
  sudo systemctl status apache2

View logs:
  pm2 logs nlive-backend
  sudo tail -f /var/log/apache2/nlive-error.log

Test app:
  Open browser -> your-domain.com
  Create meeting -> Join with another device

================================
   TROUBLESHOOTING
================================

Backend not working?
  â†’ pm2 logs nlive-backend
  â†’ pm2 restart nlive-backend

Apache errors?
  â†’ sudo apache2ctl configtest
  â†’ sudo tail -f /var/log/apache2/nlive-error.log

WebSocket issues?
  â†’ sudo apache2ctl -M | grep proxy
  â†’ Check browser console

Can't connect?
  â†’ Check AWS Security Group (ports 80, 443)
  â†’ Check domain DNS points to EC2 IP

================================
   UPDATE APPLICATION
================================

cd /var/www/nlive
git pull
npm install --production
cd client && npm install && npm run build
pm2 restart nlive-backend

================================
   ARCHITECTURE
================================

Internet
  â†“
Apache (ports 80/443)
  â”œâ”€â†’ /client/dist (React static files)
  â””â”€â†’ /socket.io â†’ PM2 â†’ Node.js (port 3000)

================================
   SUPPORT
================================

Something not working?

1. Read QUICKSTART.md
2. Check logs (pm2 logs)
3. Read DEPLOYMENT.md
4. Check Apache logs

Everything is documented! ğŸ“š

================================
